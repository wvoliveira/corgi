(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{5243:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(1332)}])},1645:function(t,e,n){"use strict";var a=n(8945);e.Z={create:async t=>{try{let e=await a.Z.post("/api/links",JSON.stringify(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}},list:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var e="/api/links";""!=t&&(e="".concat(e,"?u=").concat(t));try{let n=await a.Z.get(e,{headers:{"Content-Type":"application/json"}});return n}catch(r){return r.response}},find:async t=>{try{let e=await a.Z.get("/api/links/".concat(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}},save:async(t,e)=>{try{let n=await a.Z.patch("/api/links/".concat(t),JSON.stringify({link:e}),{headers:{"Content-Type":"application/json"}});return n}catch(r){return r.response}},delete:async t=>{try{let e=await a.Z.delete("/api/links/".concat(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}}}},1332:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var a=n(5893),r=n(7294),s=n(1645);function i(t){var e;let{links:n}=t;return(0,a.jsx)(a.Fragment,{children:null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.map(t=>(0,a.jsxs)("p",{children:[t.id.substring(0,10),"... ","=>"," ",t.domain,"/",t.keyword," ","=>"," ",t.url]},t.id))})}function c(){let[t,e]=r.useState(!1),[n,c]=r.useState(""),[o,l]=r.useState(""),[u,d]=r.useState([]),p=r.useCallback(t=>l(t.target.value),[]),h=async t=>{t.preventDefault(),e(!0);try{let{data:n,status:a}=await s.Z.list(o);200!==a&&c(n.message),(null==n?void 0:n.data)&&(console.log(n.data),d(n.data))}catch(r){console.error(r)}finally{e(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsx)("input",{type:"text",placeholder:"domain/keyword",value:o,onChange:p,required:!1})," ",(0,a.jsx)("button",{type:"submit",disabled:t,children:"Search"})]}),n?(0,a.jsxs)(a.Fragment,{children:["Error: ",n]}):null,(0,a.jsx)(i,{links:u})]})}function o(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c,{})})}}},function(t){t.O(0,[945,774,888,179],function(){return t(t.s=5243)}),_N_E=t.O()}]);