(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4539)}])},1645:function(t,e,n){"use strict";var a=n(8945);e.Z={create:async t=>{try{let e=await a.Z.post("/api/links",JSON.stringify(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}},list:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var e="/api/links";""!=t&&(e="".concat(e,"?u=").concat(t));try{let n=await a.Z.get(e,{headers:{"Content-Type":"application/json"}});return n}catch(r){return r.response}},find:async t=>{try{let e=await a.Z.get("/api/links/".concat(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}},save:async(t,e)=>{try{let n=await a.Z.patch("/api/links/".concat(t),JSON.stringify({link:e}),{headers:{"Content-Type":"application/json"}});return n}catch(r){return r.response}},delete:async t=>{try{let e=await a.Z.delete("/api/links/".concat(t),{headers:{"Content-Type":"application/json"}});return e}catch(n){return n.response}}}},4539:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return o}});var a=n(5893),r=n(7294),s=n(1645);let i=t=>{let{url:e}=t,[n,s]=r.useState("Copy URL"),i=async t=>{t.preventDefault(),await navigator.clipboard.writeText(e),s("Copied!"),setTimeout(()=>{s("Copy URL")},2e3)};return(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)("p",{children:["Your shortened URL: "," ",(0,a.jsx)("input",{type:"text",value:e,disabled:!0})," "," ",(0,a.jsx)("button",{onClick:i,children:n})]}):null})};function c(){let[t,e]=r.useState(!1),[n,c]=r.useState(""),[o,l]=r.useState(""),[u,p]=r.useState(""),d=r.useCallback(t=>l(t.target.value),[]),h=async t=>{t.preventDefault(),e(!0);try{let{data:n,status:a}=await s.Z.create({url:o});if(200!==a&&c(n.message),null==n?void 0:n.data){let r=n.data.domain+"/"+n.data.keyword;p(r)}}catch(i){console.error(i)}finally{e(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("form",{onSubmit:h,children:(0,a.jsxs)("p",{children:["Paste the URL to be shortened:"," ",(0,a.jsx)("input",{type:"text",placeholder:"https://",value:o,onChange:d,required:!0})," ",(0,a.jsx)("button",{type:"submit",disabled:t,children:"Shorten URL"})]})}),(0,a.jsx)(i,{url:u}),n?(0,a.jsxs)(a.Fragment,{children:["Error: ",n]}):null]})}function o(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c,{})})}}},function(t){t.O(0,[945,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);