(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3039)}])},4298:function(e,t,n){"use strict";var o=n(5893),r=n(883),a=n.n(r),i=n(7294);let c=e=>{let{message:t}=e;return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("div",{className:"jsx-dd84c2e9e2da1451 error-container",children:(0,o.jsx)("div",{className:"jsx-dd84c2e9e2da1451 error-content",children:t})}),(0,o.jsx)(a(),{id:"dd84c2e9e2da1451",children:".error-container.jsx-dd84c2e9e2da1451{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.error-content.jsx-dd84c2e9e2da1451{display:inline-block;margin:20px auto;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding:8px 15px;color:#f02d2d;font-weight:600\n          background-color: rgba(240, 45, 45, 0.1)}"})]})};t.Z=c},779:function(e,t,n){"use strict";var o=n(5893);n(7294);let r=e=>{let{error:t}=e;return(0,o.jsxs)("p",{children:[t,"."]})};t.Z=r},5620:function(e,t,n){"use strict";n.d(t,{SK:function(){return o},gk:function(){return r},pd:function(){return a}});let o="http://localhost:8081/api",r="https://static.productionready.io/images/smiley-cyrus.jpg",a="data:image/png;base64,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"},5349:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(6154);let r=()=>{if(!window.localStorage.getItem("corgi.tokens")||0===Object.keys(window.localStorage.getItem("corgi.tokens")).length)return{};let e=JSON.parse(window.localStorage.getItem("corgi.tokens"));if(e.access_token)return{headers:{Authorization:"Bearer ".concat(e.access_token)}}};async function a(e){let{data:t}=await o.Z.get(e,r());return t}},2276:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});let o=(e,t)=>"limit=".concat(e,"&offset=").concat(t?t*e:0)},3039:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o=n(5893),r=n(7294),a=n(9734),i=n(779),c=n(6154),l=n(5620),s=n(2276),d={all:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.Z.get("".concat(l.SK,"/articles?").concat((0,s.p)(t,e)))},byAuthor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return c.Z.get("".concat(l.SK,"/articles?author=").concat(encodeURIComponent(e),"&").concat((0,s.p)(n,t)))},byTag:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return c.Z.get("".concat(l.SK,"/articles?tag=").concat(encodeURIComponent(e),"&").concat((0,s.p)(n,t)))},delete:(e,t)=>c.Z.delete("".concat(l.SK,"/articles/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),favorite:e=>c.Z.post("".concat(l.SK,"/articles/").concat(e,"/favorite")),favoritedBy:(e,t)=>c.Z.get("".concat(l.SK,"/articles?favorited=").concat(encodeURIComponent(e),"&").concat((0,s.p)(10,t))),feed:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return c.Z.get("".concat(l.SK,"/articles/feed?").concat((0,s.p)(t,e)))},get:e=>c.Z.get("".concat(l.SK,"/articles/").concat(e)),unfavorite:e=>c.Z.delete("".concat(l.SK,"/articles/").concat(e,"/favorite")),update:async(e,t)=>{let{data:n,status:o}=await c.Z.put("".concat(l.SK,"/articles/").concat(e.slug),JSON.stringify({article:e}),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(encodeURIComponent(t))}});return{data:n,status:o}},create:async e=>{let t=JSON.parse(window.localStorage.getItem("corgi.tokens")),n=null==t?void 0:t.access_token,{data:o,status:r}=await c.Z.post("".concat(l.SK,"/links"),JSON.stringify({url:e}),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(encodeURIComponent(n))}});return{data:o,status:r}}};let p=()=>{let[e,t]=r.useState("http"),[n,c]=r.useState(!1),[s,p]=r.useState(""),[h,u]=r.useState(""),[S,k]=r.useState(""),[g,x]=r.useState(null);(0,r.useEffect)(()=>{t(window.location.protocol)});let f=r.useCallback(e=>u(e.target.value),[]);console.log("Protocol: ",e);let m=async t=>{t.preventDefault(),c(!0);try{let{data:t,status:r}=await d.create(h);if(console.debug("STATUS: ",r),console.debug("DATA: ",t),201!==r&&p(t.errors),null==t?void 0:t.data){var n,o;x(t.data);let r="".concat(e,"//").concat(null===(n=t.data)||void 0===n?void 0:n.domain,"/").concat(null===(o=t.data)||void 0===o?void 0:o.keyword);k(r);let i="".concat(l.SK,"/links");await (0,a.JG)(e=>"string"==typeof e&&e.startsWith(i))}}catch(e){console.error(e)}finally{c(!1)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsxs)("form",{onSubmit:m,children:[(0,o.jsx)("input",{type:"text",placeholder:"URL",value:h,onChange:f,required:!0,disabled:n})," ",(0,o.jsx)("button",{type:"submit",disabled:n,children:"Create"})]}),s&&(0,o.jsx)(i.Z,{error:s}),g&&(0,o.jsxs)("p",{children:["Link: ",(0,o.jsx)("a",{href:S,children:S})]}),(0,o.jsx)("br",{})]})};var h=n(9008),u=n.n(h),S=n(1163),k=n(4298);let g=()=>(0,o.jsx)("div",{className:"loading-spinner",children:(0,o.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform : rotate(0deg); }\n          100% { transform : rotate(360deg); }\n        }\n\n        .loading-spinner {\n          position: relative;\n          width: 40px;\n          height: 40px;\n          margin: 90px auto;\n          border-radius: 50%;\n          border-top: 3px solid rgba(0, 0, 0, 0.1);\n          border-right: 3px solid rgba(0, 0, 0, 0.1);\n          border-bottom: 3px solid rgba(0, 0, 0, 0.1);\n          border-left: 3px solid #818a91;\n          transform: translateZ(0);\n          animation: spin 0.5s infinite linear;\n        }\n        "})});var x=n(4965),f=n(1664),m=n.n(f);let J=e=>{let{page:t,pages:n,limit:r,total:a}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("br",{}),"Page: ",t," "," ","Pages: ",n," "," ","Limit: ",r," "," ","Total: ",a," "," ",(0,o.jsx)(m(),{href:"?page=".concat(1===t&&1||t-1),children:"<"})," | ",(0,o.jsx)(m(),{href:"?page=".concat(t===n&&t||t+1),children:">"})]})};var N=n(5349);let y=()=>{var e;let[t,n]=r.useState("http"),i=(0,S.useRouter)(),{query:c}=i;(0,r.useEffect)(()=>{n(window.location.protocol)}),void 0===c.page&&(c.page=1),void 0==c.offset&&(c.offset=0);let s="".concat(l.SK,"/links?page=").concat(c.page,"&offset=").concat(c.offset);console.debug("fetchURL: ",s);let{data:d,error:p}=(0,a.ZP)(s,N.Z);if(console.error(p),p)return(0,o.jsx)("div",{children:(0,o.jsx)(k.Z,{message:"Cannot load recent links..."})});if(!d)return(0,o.jsx)(g,{});console.debug("Data: ",d),console.debug("Error: ",p);let{data:h}=d;return h.links&&0===h.links.length?(0,o.jsx)("div",{children:"No links are here... yet."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("table",{children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"table-td-id",children:"ID"}),(0,o.jsx)("th",{children:"Full URL"}),(0,o.jsx)("th",{children:"Short URL"}),(0,o.jsx)("th",{children:"Clicks"})]}),null===(e=h.links)||void 0===e?void 0:e.map((e,n)=>{var r;let a="".concat(t,"//").concat(e.domain,"/").concat(e.keyword);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{className:"table-td-id",children:e.id}),(0,o.jsx)("td",{className:"table-td-full-url",children:e.url}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{target:"_blank",href:a,rel:a,children:a},e.id)}),(0,o.jsx)("td",{children:null==e?void 0:null===(r=e.clicks)||void 0===r?void 0:r.total})]},e.id)})})]}),(0,o.jsx)(x.Z,{test:h.total&&h.total>10,children:(0,o.jsx)(J,{page:h.page,pages:h.pages,limit:h.limit,total:h.total})})]})},T=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u(),{children:[(0,o.jsx)("title",{children:"Corgi"}),(0,o.jsx)("meta",{name:"description",content:"A URL shortener app."})]}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{children:[(0,o.jsx)(p,{}),(0,o.jsx)(y,{})]})})]});var v=T}},function(e){e.O(0,[827,883,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);